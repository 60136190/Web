{"ast":null,"code":"var _jsxFileName = \"D:\\\\Full-Stack-Developer\\\\Build-Web-Orther-Food-Full-Stack-Widosoft\\\\client\\\\src\\\\Components\\\\AdminComponent\\\\Category.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext, useEffect } from \"react\";\nimport { ProductIdStyle } from \"../../Styles/StylePages/Admin/ProductIdStyle\";\nimport { GlobalState } from \"../../Contexts/GlobalState\";\nimport { NewProductStyle } from \"../../Styles/StylePages/Admin/NewProduct\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport { LoadingImage } from \"../../Imports/Index\";\nimport axios from \"axios\";\nimport swal from \"sweetalert\";\nimport { toast } from \"react-toastify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Category = () => {\n  _s();\n\n  const {\n    categories\n  } = useSelector(state => state.products);\n  const {\n    token\n  } = useSelector(state => state.authAdmin);\n  const state = useContext(GlobalState);\n  const [callback, setCallback] = state.callback;\n  const [category, setCategory] = useState(\"\");\n  const [onEdit, setOnEdit] = useState(false);\n  const [id, setID] = useState(\"\");\n  const navigate = useNavigate();\n\n  const createCategory = async e => {\n    e.preventDefault();\n\n    try {\n      if (onEdit) {\n        const res = await axios.patch(`/category/${id}`, {\n          tendm: category\n        }, {\n          headers: {\n            Authorization: `Bearer ${token.accessToken}`\n          }\n        });\n        setOnEdit(false);\n        swal(`${res.data.msg} ðŸ¤©`, {\n          icon: \"success\"\n        });\n      } else {\n        const res = await axios.post(\"/category\", {\n          tendm: category\n        }, {\n          headers: {\n            Authorization: `Bearer ${token.accessToken}`\n          }\n        });\n        swal(`${res.data.msg} ðŸ¤©`, {\n          icon: \"success\"\n        });\n        setCategory(\"\");\n      }\n\n      setCallback(!callback);\n      navigate(\"/category\");\n    } catch (error) {\n      alert(error.response.data.msg);\n    }\n  };\n\n  const deleteCategory = async id => {\n    try {\n      if (window.confirm(\"Are you sure you want to delete\")) {\n        const res = await axios.delete(`/category/delete/${id}`, {\n          headers: {\n            Authorization: `Bearer ${token.accessToken}`\n          }\n        });\n        swal(`${res.data.msg} ðŸ˜‚`, {\n          icon: \"success\"\n        });\n        setCallback(!callback);\n      }\n    } catch (err) {\n      swal(\"Oh no lucky Thank you for ðŸ¥´!\");\n    }\n  };\n\n  const editCategory = async (id, name) => {\n    setID(id);\n    setCategory(name);\n    setOnEdit(true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ProductIdStyle, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"categories\",\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: createCategory,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"category\",\n          children: \"Category\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"tendm\",\n          value: category,\n          required: true,\n          onChange: e => setCategory(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: onEdit ? \"Update\" : \"Create\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col\",\n        children: categories.map(category => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: category.tendm\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => editCategory(category.id, category.tendm),\n              children: \"Edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => deleteCategory(category.id),\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 15\n          }, this)]\n        }, category.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Category, \"anh899NzQroZb6t1w+XemP7DEtk=\", false, function () {\n  return [useSelector, useSelector, useNavigate];\n});\n\n_c = Category;\nexport default Category;\n\nvar _c;\n\n$RefreshReg$(_c, \"Category\");","map":{"version":3,"sources":["D:/Full-Stack-Developer/Build-Web-Orther-Food-Full-Stack-Widosoft/client/src/Components/AdminComponent/Category.js"],"names":["React","useState","useContext","useEffect","ProductIdStyle","GlobalState","NewProductStyle","useNavigate","useParams","useSelector","LoadingImage","axios","swal","toast","Category","categories","state","products","token","authAdmin","callback","setCallback","category","setCategory","onEdit","setOnEdit","id","setID","navigate","createCategory","e","preventDefault","res","patch","tendm","headers","Authorization","accessToken","data","msg","icon","post","error","alert","response","deleteCategory","window","confirm","delete","err","editCategory","name","target","value","map"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\r\nimport { ProductIdStyle } from \"../../Styles/StylePages/Admin/ProductIdStyle\";\r\nimport { GlobalState } from \"../../Contexts/GlobalState\";\r\nimport { NewProductStyle } from \"../../Styles/StylePages/Admin/NewProduct\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { LoadingImage } from \"../../Imports/Index\";\r\nimport axios from \"axios\";\r\nimport swal from \"sweetalert\";\r\nimport { toast } from \"react-toastify\";\r\nconst Category = () => {\r\n  const { categories } = useSelector((state) => state.products);\r\n  const { token } = useSelector((state) => state.authAdmin);\r\n  const state = useContext(GlobalState);\r\n  const [callback, setCallback] = state.callback;\r\n  const [category, setCategory] = useState(\"\");\r\n  const [onEdit, setOnEdit] = useState(false);\r\n  const [id, setID] = useState(\"\");\r\n  const navigate = useNavigate();\r\n  const createCategory = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      if (onEdit) {\r\n        const res = await axios.patch(\r\n          `/category/${id}`,\r\n          { tendm: category },\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${token.accessToken}`,\r\n            },\r\n          }\r\n        );\r\n        setOnEdit(false);\r\n        swal(`${res.data.msg} ðŸ¤©`, {\r\n          icon: \"success\",\r\n        });\r\n      } else {\r\n        const res = await axios.post(\r\n          \"/category\",\r\n          { tendm: category },\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${token.accessToken}`,\r\n            },\r\n          }\r\n        );\r\n        swal(`${res.data.msg} ðŸ¤©`, {\r\n          icon: \"success\",\r\n        });\r\n        setCategory(\"\");\r\n      }\r\n      setCallback(!callback);\r\n      navigate(\"/category\");\r\n    } catch (error) {\r\n      alert(error.response.data.msg);\r\n    }\r\n  };\r\n  const deleteCategory = async (id) => {\r\n    try {\r\n      if (window.confirm(\"Are you sure you want to delete\")) {\r\n        const res = await axios.delete(`/category/delete/${id}`, {\r\n          headers: {\r\n            Authorization: `Bearer ${token.accessToken}`,\r\n          },\r\n        });\r\n        swal(`${res.data.msg} ðŸ˜‚`, {\r\n          icon: \"success\",\r\n        });\r\n        setCallback(!callback);\r\n      }\r\n    } catch (err) {\r\n      swal(\"Oh no lucky Thank you for ðŸ¥´!\");\r\n    }\r\n  };\r\n  const editCategory = async (id, name) => {\r\n    setID(id);\r\n    setCategory(name);\r\n    setOnEdit(true);\r\n  };\r\n  return (\r\n    <>\r\n      <ProductIdStyle />\r\n      <div className=\"categories\">\r\n        <form onSubmit={createCategory}>\r\n          <label htmlFor=\"category\">Category</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"tendm\"\r\n            value={category}\r\n            required\r\n            onChange={(e) => setCategory(e.target.value)}\r\n          />\r\n\r\n          <button type=\"submit\">{onEdit ? \"Update\" : \"Create\"}</button>\r\n        </form>\r\n\r\n        <div className=\"col\">\r\n          {categories.map((category) => (\r\n            <div className=\"row\" key={category.id}>\r\n              <p>{category.tendm}</p>\r\n              <div>\r\n                <button\r\n                  onClick={() => editCategory(category.id, category.tendm)}\r\n                >\r\n                  Edit\r\n                </button>\r\n                <button onClick={() => deleteCategory(category.id)}>\r\n                  Delete\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Category;\r\n"]},"metadata":{},"sourceType":"module"}