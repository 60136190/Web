{"ast":null,"code":"import _defineProperty from\"D:/Full-Stack-Developer/Build-Web-Orther-Food-Full-Stack-Widosoft/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:/Full-Stack-Developer/Build-Web-Orther-Food-Full-Stack-Widosoft/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:/Full-Stack-Developer/Build-Web-Orther-Food-Full-Stack-Widosoft/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect,useRef}from\"react\";import{UserListStyle}from\"../../Styles/StylePages/Admin/NewUserStyle\";import axios from\"axios\";import{useDispatch,useSelector}from\"react-redux\";import{useParams}from\"react-router-dom\";import swal from\"sweetalert\";import{ChangeAdminInitiate}from\"../../redux/Action/ActionAdmin\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var initialState={email:\"\",oldPassword:\"\",password:\"\",confirmPassword:\"\"};var ChangePassword=function ChangePassword(){var _useState=useState(initialState),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var _useSelector=useSelector(function(state){return state.authAdmin;}),InfoAdmin=_useSelector.InfoAdmin,token=_useSelector.token,Admin=_useSelector.Admin,changePassword=_useSelector.changePassword;var passwordEl=useRef();var email=state.email,password=state.password,confirmPassword=state.confirmPassword,oldPassword=state.oldPassword;var _useParams=useParams(),id=_useParams.id;var handleChangeInput=function handleChangeInput(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setState(_objectSpread(_objectSpread({},state),{},_defineProperty({},name,value)));};var dispatch=useDispatch();var handleSubmit=function handleSubmit(e){e.preventDefault();dispatch(ChangeAdminInitiate(token.accessToken,_objectSpread({},state)));};useEffect(function(){if(changePassword.status===200){setState({oldPassword:\"\",password:\"\",confirmPassword:\"\"});}else if(changePassword.status===400){swal(\"\".concat(changePassword.message,\" \\uD83E\\uDD28\"),{icon:\"error\"});}},[changePassword]);useEffect(function(){if(id){setState(_objectSpread({},InfoAdmin));passwordEl.current.focus();}else{setState(initialState);}},[id,InfoAdmin]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(UserListStyle,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"newUser\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"newUserTitle\",children:\"Change Password\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"newUserForm\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"newUserItem\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"OldPassword\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"oldPassword\",name:\"oldPassword\",value:oldPassword,ref:passwordEl,onChange:handleChangeInput})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"newUserItem\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"password\",name:\"password\",value:password,onChange:handleChangeInput})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"newUserItem\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"confirmPassword\",name:\"confirmPassword\",value:confirmPassword,onChange:handleChangeInput})]}),/*#__PURE__*/_jsx(\"button\",{className:\"newUserButton\",children:\"Change\"})]})]})]});};export default ChangePassword;","map":{"version":3,"sources":["D:/Full-Stack-Developer/Build-Web-Orther-Food-Full-Stack-Widosoft/client/src/Components/AdminComponent/ChangePassword.js"],"names":["React","useState","useContext","useEffect","useRef","UserListStyle","axios","useDispatch","useSelector","useParams","swal","ChangeAdminInitiate","initialState","email","oldPassword","password","confirmPassword","ChangePassword","state","setState","authAdmin","InfoAdmin","token","Admin","changePassword","passwordEl","id","handleChangeInput","e","target","name","value","dispatch","handleSubmit","preventDefault","accessToken","status","message","icon","current","focus"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect, useRef } from \"react\";\r\nimport { UserListStyle } from \"../../Styles/StylePages/Admin/NewUserStyle\";\r\nimport axios from \"axios\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport swal from \"sweetalert\";\r\nimport { ChangeAdminInitiate } from \"../../redux/Action/ActionAdmin\";\r\nconst initialState = {\r\n  email: \"\",\r\n  oldPassword: \"\",\r\n  password: \"\",\r\n  confirmPassword: \"\",\r\n};\r\nconst ChangePassword = () => {\r\n  const [state, setState] = useState(initialState);\r\n  const { InfoAdmin, token, Admin, changePassword } = useSelector(\r\n    (state) => state.authAdmin\r\n  );\r\n  const passwordEl = useRef();\r\n  const { email, password, confirmPassword, oldPassword } = state;\r\n  const { id } = useParams();\r\n  const handleChangeInput = (e) => {\r\n    const { name, value } = e.target;\r\n    setState({ ...state, [name]: value });\r\n  };\r\n  const dispatch = useDispatch();\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    dispatch(ChangeAdminInitiate(token.accessToken, { ...state }));\r\n  };\r\n  useEffect(() => {\r\n    if (changePassword.status === 200) {\r\n      setState({ oldPassword: \"\", password: \"\", confirmPassword: \"\" });\r\n    } else if (changePassword.status === 400) {\r\n      swal(`${changePassword.message} ðŸ¤¨`, {\r\n        icon: \"error\",\r\n      });\r\n    }\r\n  }, [changePassword]);\r\n  useEffect(() => {\r\n    if (id) {\r\n      setState({ ...InfoAdmin });\r\n      passwordEl.current.focus();\r\n    } else {\r\n      setState(initialState);\r\n    }\r\n  }, [id, InfoAdmin]);\r\n  return (\r\n    <>\r\n      <UserListStyle />\r\n      <div className=\"newUser\">\r\n        <h1 className=\"newUserTitle\">Change Password</h1>\r\n        <form className=\"newUserForm\" onSubmit={handleSubmit}>\r\n          <div className=\"newUserItem\">\r\n            <label>OldPassword</label>\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"oldPassword\"\r\n              name=\"oldPassword\"\r\n              value={oldPassword}\r\n              ref={passwordEl}\r\n              onChange={handleChangeInput}\r\n            />\r\n          </div>\r\n          <div className=\"newUserItem\">\r\n            <label>Password</label>\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"password\"\r\n              name=\"password\"\r\n              value={password}\r\n              onChange={handleChangeInput}\r\n            />\r\n          </div>\r\n          <div className=\"newUserItem\">\r\n            <label>Confirm Password</label>\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"confirmPassword\"\r\n              name=\"confirmPassword\"\r\n              value={confirmPassword}\r\n              onChange={handleChangeInput}\r\n            />\r\n          </div>\r\n          <button className=\"newUserButton\">Change</button>\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ChangePassword;\r\n"]},"metadata":{},"sourceType":"module"}