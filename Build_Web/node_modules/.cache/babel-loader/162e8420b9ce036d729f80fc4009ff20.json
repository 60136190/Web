{"ast":null,"code":"import _objectSpread from\"D:/Full-Stack-Developer/Build-Web-Orther-Food-Full-Stack-Widosoft/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"D:/Full-Stack-Developer/Build-Web-Orther-Food-Full-Stack-Widosoft/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Full-Stack-Developer/Build-Web-Orther-Food-Full-Stack-Widosoft/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/Full-Stack-Developer/Build-Web-Orther-Food-Full-Stack-Widosoft/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useRef,useState}from\"react\";import{useForm,Controller}from\"react-hook-form\";import{useDispatch,useSelector}from\"react-redux\";import{Metadata}from\"../../Imports/Index\";import{RegisterInitiate}from\"../../redux/Action/ActionAdmin\";import PhoneInput,{isValidPhoneNumber}from\"react-phone-number-input\";import\"react-phone-number-input/style.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Register=function Register(){var _errors$email,_errors$email2,_errors$hoten,_errors$hoten2,_errors$username,_errors$username2,_errors$ngaysinh,_errors$password,_errors$password2,_errors$password3,_errors$passwordConfi,_errors$passwordConfi2;var _useForm=useForm(),register=_useForm.register,errors=_useForm.formState.errors,handleSubmit=_useForm.handleSubmit,watch=_useForm.watch,getValues=_useForm.getValues,control=_useForm.control,reset=_useForm.reset;var passwords=useRef({});var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.authAdmin;}),AdminRegister=_useSelector.AdminRegister;passwords.current=watch(\"password\");var _useState=useState({email:\"\",hoten:\"\",username:\"\",password:\"\",ngaysinh:\"\",gioitinh:\"\",dienthoai:\"\"}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLock=_useState4[0],setIsLock=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isLocks=_useState6[0],setIsLocks=_useState6[1];var handleSubmitForm=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){var email,hoten,username,password,ngaysinh,gioitinh,dienthoai;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:email=data.email,hoten=data.hoten,username=data.username,password=data.password,ngaysinh=data.ngaysinh,gioitinh=data.gioitinh,dienthoai=data.dienthoai;dispatch(RegisterInitiate(email,hoten,username,password,ngaysinh,gioitinh,dienthoai));case 2:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmitForm(_x){return _ref.apply(this,arguments);};}();var handleIsLock=function handleIsLock(){setIsLock(!isLock);};var handleIsLocks=function handleIsLocks(){setIsLocks(!isLocks);};useEffect(function(){if(AdminRegister.status===200){reset();setIsLocks(false);setIsLock(false);}},[AdminRegister]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Metadata,{title:\"Authentication-Admin\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"sign-up-form form-main\",onSubmit:handleSubmit(handleSubmitForm),children:[/*#__PURE__*/_jsx(\"h2\",{className:\"title\",children:\"Sign up\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-field\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-envelope\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"email\",{required:true,pattern:/^[^\\s@]+@[^\\s@]+\\.[^\\s@]{2,}$/i})),{},{type:\"email\",placeholder:\"Email Address\",name:\"email\",id:\"email\"}))]}),/*#__PURE__*/_jsxs(\"span\",{style:{color:\"red\"},children:[((_errors$email=errors.email)===null||_errors$email===void 0?void 0:_errors$email.type)===\"required\"&&\"Mời bạn nhập Email đầy đủ! \",(errors===null||errors===void 0?void 0:(_errors$email2=errors.email)===null||_errors$email2===void 0?void 0:_errors$email2.type)===\"pattern\"&&\"Email của ban không hợp lệ!\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-field\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"hoten\",{required:true,maxLength:30})),{},{type:\"text\",placeholder:\"hoten\",name:\"hoten\",id:\"hoten\"}))]}),/*#__PURE__*/_jsxs(\"span\",{style:{color:\"red\"},children:[((_errors$hoten=errors.hoten)===null||_errors$hoten===void 0?void 0:_errors$hoten.type)===\"required\"&&\"Mời bạn nhập đầy đủ tên vào!\",(errors===null||errors===void 0?void 0:(_errors$hoten2=errors.hoten)===null||_errors$hoten2===void 0?void 0:_errors$hoten2.type)===\"maxLength\"&&\"Tên của bạn không được quá 30 kí tự\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-field\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"username\",{required:true,maxLength:20})),{},{type:\"text\",placeholder:\"username\",name:\"username\",id:\"username\"}))]}),/*#__PURE__*/_jsxs(\"span\",{style:{color:\"red\"},children:[((_errors$username=errors.username)===null||_errors$username===void 0?void 0:_errors$username.type)===\"required\"&&\"Mời bạn nhập đầy đủ tên vào!\",(errors===null||errors===void 0?void 0:(_errors$username2=errors.username)===null||_errors$username2===void 0?void 0:_errors$username2.type)===\"maxLength\"&&\"Tên của bạn không được quá 20 kí tự\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-field\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-table\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"ngaysinh\",{required:true})),{},{type:\"date\",placeholder:\"ngaysinh\",name:\"ngaysinh\",id:\"ngaysinh\"}))]}),/*#__PURE__*/_jsx(\"span\",{style:{color:\"red\"},children:((_errors$ngaysinh=errors.ngaysinh)===null||_errors$ngaysinh===void 0?void 0:_errors$ngaysinh.type)===\"required\"&&\"Mời bạn nhập đầy đủ ngày sinh vào!\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-field\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-genderless\"}),/*#__PURE__*/_jsxs(\"select\",_objectSpread(_objectSpread({name:\"gioitinh\"},register(\"gioitinh\",{required:true})),{},{className:\"select\",children:[/*#__PURE__*/_jsx(\"option\",{name:\"gioitinh\",value:\"1\",className:\"select\",children:\"Nam\"}),/*#__PURE__*/_jsx(\"option\",{name:\"gioitinh\",value:\"0\",className:\"select\",children:\"N\\u1EEF\"})]}))]}),/*#__PURE__*/_jsx(\"span\",{style:{color:\"red\"},children:errors.gioitinh&&/*#__PURE__*/_jsxs(\"p\",{style:{color:\"red\"},children:[\" \",errors.gioitinh.message]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-field\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-phone-alt\"}),/*#__PURE__*/_jsx(Controller,{name:\"dienthoai\",control:control,rules:{required:true},render:function render(_ref2){var _ref2$field=_ref2.field,onChange=_ref2$field.onChange,value=_ref2$field.value;return/*#__PURE__*/_jsx(PhoneInput,{value:value,onChange:onChange,defaultCountry:\"TH\",id:\"phone-input\"});}})]}),/*#__PURE__*/_jsx(\"span\",{style:{color:\"red\"},children:errors[\"dienthoai\"]&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:\"Invalid Phone\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-field\",children:[isLock?/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-unlock\",onClick:handleIsLock}):/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-lock\",onClick:handleIsLock}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"password\",{required:true,minLength:{value:6},pattern:/^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d@$!%*#?&^_-]{8,}$/})),{},{type:isLock?\"type\":\"password\",placeholder:\"Password\",name:\"password\",id:\"password\"}))]}),/*#__PURE__*/_jsxs(\"span\",{style:{color:\"red\"},children:[((_errors$password=errors.password)===null||_errors$password===void 0?void 0:_errors$password.type)===\"required\"&&\"Mời bạn nhập đầy đủ mật khẩu. \",(errors===null||errors===void 0?void 0:(_errors$password2=errors.password)===null||_errors$password2===void 0?void 0:_errors$password2.type)===\"minLength\"&&\"Mật khẩu của bạn phải 6 kí tự trở lên !!\",(errors===null||errors===void 0?void 0:(_errors$password3=errors.password)===null||_errors$password3===void 0?void 0:_errors$password3.type)===\"pattern\"&&\"Mật khẩu có kí tự in hoa,số và kí tự đặt biệt !\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-field\",children:[isLocks?/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-unlock\",onClick:handleIsLocks}):/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-lock\",onClick:handleIsLocks}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"passwordConfirm\",{required:true,validate:function validate(value){return value===getValues(\"password\")||\"The passwords do not match\";}})),{},{type:isLocks?\"type\":\"password\",placeholder:\"Confirm Password\",name:\"passwordConfirm\",id:\"passwordConfirm\"}))]}),/*#__PURE__*/_jsxs(\"span\",{style:{color:\"red\"},children:[((_errors$passwordConfi=errors.passwordConfirm)===null||_errors$passwordConfi===void 0?void 0:_errors$passwordConfi.type)===\"required\"&&\"Mời bạn nhập lại mật khẩu.\",((_errors$passwordConfi2=errors.passwordConfirm)===null||_errors$passwordConfi2===void 0?void 0:_errors$passwordConfi2.type)===\"validate\"&&\"Mật khẩu nhập lại không khớp!   \"]}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"btn\",name:\"signup\"})]})]});};export default Register;","map":{"version":3,"sources":["D:/Full-Stack-Developer/Build-Web-Orther-Food-Full-Stack-Widosoft/client/src/Components/Authentication/Register.js"],"names":["React","useEffect","useRef","useState","useForm","Controller","useDispatch","useSelector","Metadata","RegisterInitiate","PhoneInput","isValidPhoneNumber","Register","register","errors","formState","handleSubmit","watch","getValues","control","reset","passwords","dispatch","state","authAdmin","AdminRegister","current","email","hoten","username","password","ngaysinh","gioitinh","dienthoai","setState","isLock","setIsLock","isLocks","setIsLocks","handleSubmitForm","data","handleIsLock","handleIsLocks","status","required","pattern","color","type","maxLength","message","field","onChange","value","minLength","validate","passwordConfirm"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport { useForm, Controller } from \"react-hook-form\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Metadata } from \"../../Imports/Index\";\r\nimport { RegisterInitiate } from \"../../redux/Action/ActionAdmin\";\r\nimport PhoneInput, { isValidPhoneNumber } from \"react-phone-number-input\";\r\nimport \"react-phone-number-input/style.css\";\r\nconst Register = () => {\r\n  const {\r\n    register,\r\n    formState: { errors },\r\n    handleSubmit,\r\n    watch,\r\n    getValues,\r\n    control,\r\n    reset,\r\n  } = useForm();\r\n  const passwords = useRef({});\r\n  const dispatch = useDispatch();\r\n  const { AdminRegister } = useSelector((state) => state.authAdmin);\r\n  passwords.current = watch(\"password\");\r\n  const [state, setState] = useState({\r\n    email: \"\",\r\n    hoten: \"\",\r\n    username: \"\",\r\n    password: \"\",\r\n    ngaysinh: \"\",\r\n    gioitinh: \"\",\r\n    dienthoai: \"\",\r\n  });\r\n  const [isLock, setIsLock] = useState(false);\r\n  const [isLocks, setIsLocks] = useState(false);\r\n  const handleSubmitForm = async (data) => {\r\n    const { email, hoten, username, password, ngaysinh, gioitinh, dienthoai } =\r\n      data;\r\n    dispatch(\r\n      RegisterInitiate(\r\n        email,\r\n        hoten,\r\n        username,\r\n        password,\r\n        ngaysinh,\r\n        gioitinh,\r\n        dienthoai\r\n      )\r\n    );\r\n  };\r\n  const handleIsLock = () => {\r\n    setIsLock(!isLock);\r\n  };\r\n  const handleIsLocks = () => {\r\n    setIsLocks(!isLocks);\r\n  };\r\n  useEffect(() => {\r\n    if (AdminRegister.status === 200) {\r\n      reset();\r\n      setIsLocks(false);\r\n      setIsLock(false);\r\n    }\r\n  }, [AdminRegister]);\r\n\r\n  return (\r\n    <>\r\n      <Metadata title=\"Authentication-Admin\" />\r\n      <form\r\n        className=\"sign-up-form form-main\"\r\n        onSubmit={handleSubmit(handleSubmitForm)}\r\n      >\r\n        <h2 className=\"title\">Sign up</h2>\r\n        <div className=\"input-field\">\r\n          <i className=\"fas fa-envelope\" />\r\n          <input\r\n            {...register(\"email\", {\r\n              required: true,\r\n              pattern: /^[^\\s@]+@[^\\s@]+\\.[^\\s@]{2,}$/i,\r\n            })}\r\n            type=\"email\"\r\n            placeholder=\"Email Address\"\r\n            name=\"email\"\r\n            id=\"email\"\r\n          />\r\n        </div>\r\n        <span style={{ color: \"red\" }}>\r\n          {errors.email?.type === \"required\" && \"Mời bạn nhập Email đầy đủ! \"}\r\n          {errors?.email?.type === \"pattern\" && \"Email của ban không hợp lệ!\"}\r\n        </span>\r\n\r\n        <div className=\"input-field\">\r\n          <i className=\"fas fa-user\" />\r\n          <input\r\n            {...register(\"hoten\", { required: true, maxLength: 30 })}\r\n            type=\"text\"\r\n            placeholder=\"hoten\"\r\n            name=\"hoten\"\r\n            id=\"hoten\"\r\n          />\r\n        </div>\r\n\r\n        <span style={{ color: \"red\" }}>\r\n          {errors.hoten?.type === \"required\" && \"Mời bạn nhập đầy đủ tên vào!\"}\r\n          {errors?.hoten?.type === \"maxLength\" &&\r\n            \"Tên của bạn không được quá 30 kí tự\"}\r\n        </span>\r\n\r\n        <div className=\"input-field\">\r\n          <i className=\"fas fa-user\" />\r\n          <input\r\n            {...register(\"username\", { required: true, maxLength: 20 })}\r\n            type=\"text\"\r\n            placeholder=\"username\"\r\n            name=\"username\"\r\n            id=\"username\"\r\n          />\r\n        </div>\r\n\r\n        <span style={{ color: \"red\" }}>\r\n          {errors.username?.type === \"required\" &&\r\n            \"Mời bạn nhập đầy đủ tên vào!\"}\r\n          {errors?.username?.type === \"maxLength\" &&\r\n            \"Tên của bạn không được quá 20 kí tự\"}\r\n        </span>\r\n\r\n        <div className=\"input-field\">\r\n          <i class=\"fas fa-table\"></i>\r\n          <input\r\n            {...register(\"ngaysinh\", { required: true })}\r\n            type=\"date\"\r\n            placeholder=\"ngaysinh\"\r\n            name=\"ngaysinh\"\r\n            id=\"ngaysinh\"\r\n          />\r\n        </div>\r\n\r\n        <span style={{ color: \"red\" }}>\r\n          {errors.ngaysinh?.type === \"required\" &&\r\n            \"Mời bạn nhập đầy đủ ngày sinh vào!\"}\r\n        </span>\r\n        <div className=\"input-field\">\r\n          <i class=\"fas fa-genderless\"></i>\r\n          <select\r\n            name=\"gioitinh\"\r\n            {...register(\"gioitinh\", { required: true })}\r\n            className=\"select\"\r\n          >\r\n            <option name=\"gioitinh\" value=\"1\" className=\"select\">\r\n              Nam\r\n            </option>\r\n            <option name=\"gioitinh\" value=\"0\" className=\"select\">\r\n              Nữ\r\n            </option>\r\n          </select>\r\n        </div>\r\n\r\n        <span style={{ color: \"red\" }}>\r\n          {errors.gioitinh && (\r\n            <p style={{ color: \"red\" }}> {errors.gioitinh.message}</p>\r\n          )}\r\n        </span>\r\n        <div className=\"input-field\">\r\n          <i class=\"fas fa-phone-alt\"></i>\r\n          <Controller\r\n            name=\"dienthoai\"\r\n            control={control}\r\n            rules={{ required: true }}\r\n            render={({ field: { onChange, value } }) => (\r\n              <PhoneInput\r\n                value={value}\r\n                onChange={onChange}\r\n                defaultCountry=\"TH\"\r\n                id=\"phone-input\"\r\n              />\r\n            )}\r\n          />\r\n        </div>\r\n        <span style={{ color: \"red\" }}>\r\n          {errors[\"dienthoai\"] && (\r\n            <p className=\"error-message\">Invalid Phone</p>\r\n          )}\r\n        </span>\r\n\r\n        <div className=\"input-field\">\r\n          {isLock ? (\r\n            <i className=\"fa fa-unlock\" onClick={handleIsLock} />\r\n          ) : (\r\n            <i className=\"fas fa-lock\" onClick={handleIsLock} />\r\n          )}\r\n          <input\r\n            {...register(\"password\", {\r\n              required: true,\r\n              minLength: {\r\n                value: 6,\r\n              },\r\n              pattern: /^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d@$!%*#?&^_-]{8,}$/,\r\n            })}\r\n            type={isLock ? \"type\" : \"password\"}\r\n            placeholder=\"Password\"\r\n            name=\"password\"\r\n            id=\"password\"\r\n          />\r\n        </div>\r\n        <span style={{ color: \"red\" }}>\r\n          {errors.password?.type === \"required\" &&\r\n            \"Mời bạn nhập đầy đủ mật khẩu. \"}\r\n          {errors?.password?.type === \"minLength\" &&\r\n            \"Mật khẩu của bạn phải 6 kí tự trở lên !!\"}\r\n          {errors?.password?.type === \"pattern\" &&\r\n            \"Mật khẩu có kí tự in hoa,số và kí tự đặt biệt !\"}\r\n        </span>\r\n        <div className=\"input-field\">\r\n          {isLocks ? (\r\n            <i className=\"fa fa-unlock\" onClick={handleIsLocks} />\r\n          ) : (\r\n            <i className=\"fas fa-lock\" onClick={handleIsLocks} />\r\n          )}\r\n          <input\r\n            {...register(\"passwordConfirm\", {\r\n              required: true,\r\n              validate: (value) =>\r\n                value === getValues(\"password\") || \"The passwords do not match\",\r\n            })}\r\n            type={isLocks ? \"type\" : \"password\"}\r\n            placeholder=\"Confirm Password\"\r\n            name=\"passwordConfirm\"\r\n            id=\"passwordConfirm\"\r\n          />\r\n        </div>\r\n        <span style={{ color: \"red\" }}>\r\n          {errors.passwordConfirm?.type === \"required\" &&\r\n            \"Mời bạn nhập lại mật khẩu.\"}\r\n          {errors.passwordConfirm?.type === \"validate\" &&\r\n            \"Mật khẩu nhập lại không khớp!   \"}\r\n        </span>\r\n        <input type=\"submit\" className=\"btn\" name=\"signup\" />\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n"]},"metadata":{},"sourceType":"module"}