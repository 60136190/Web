{"ast":null,"code":"var _jsxFileName = \"D:\\\\Full-Stack-Developer\\\\Build-Web-Orther-Food-Full-Stack-Widosoft\\\\client\\\\src\\\\Components\\\\AdminComponent\\\\Category.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext, useEffect } from \"react\";\nimport { ProductIdStyle } from \"../../Styles/StylePages/Admin/ProductIdStyle\";\nimport { GlobalState } from \"../../Contexts/GlobalState\";\nimport { NewProductStyle } from \"../../Styles/StylePages/Admin/NewProduct\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport { LoadingImage } from \"../../Imports/Index\";\nimport axios from \"axios\";\nimport swal from \"sweetalert\";\nimport { toast } from \"react-toastify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Category = () => {\n  _s();\n\n  const {\n    categories\n  } = useSelector(state => state.products);\n  const {\n    token\n  } = useSelector(state => state.authAdmin);\n  const state = useContext(GlobalState);\n  const [callback, setCallback] = state.callback;\n  const [category, setCategory] = useState(\"\");\n  const [onEdit, setOnEdit] = useState(false);\n  const [id, setID] = useState(\"\");\n  const [res, setRes] = useState(\"\");\n  const navigate = useNavigate();\n\n  const createCategory = async e => {\n    e.preventDefault();\n\n    try {\n      if (onEdit) {\n        const res = await axios.patch(`/category/${id}`, {\n          tendm: category\n        }, {\n          headers: {\n            Authorization: `Bearer ${token.accessToken}`\n          }\n        });\n        setOnEdit(false);\n        setCategory(\"\");\n        swal(`${res.data.msg} ðŸ¤©`, {\n          icon: \"success\"\n        });\n      } else {\n        const res = await axios.post(\"/category\", {\n          tendm: category\n        }, {\n          headers: {\n            Authorization: `Bearer ${token.accessToken}`\n          }\n        });\n        swal(`${res.data.msg} ðŸ¤©`, {\n          icon: \"success\"\n        });\n        setCategory(\"\");\n      }\n\n      setCallback(!callback);\n      navigate(\"/category\");\n    } catch (error) {\n      alert(error.response.data.msg);\n    }\n  };\n\n  const deleteCategory = async id => {\n    try {\n      return swal({\n        title: \"Please login to purchase ?\",\n        icon: \"warning\",\n        buttons: true,\n        dangerMode: true\n      }).then(willDelete => {\n        if (willDelete) {\n          swal(\"navigation login Success, wait Loading... !\", {\n            icon: \"success\"\n          });\n          setRes(willDelete);\n        } else {\n          swal(\"I don't have buy product ðŸ˜Ÿ'!\");\n        }\n      }); // if (window.confirm(\"Are you sure you want to delete\")) {\n      //   const res = await axios.delete(`/category/delete/${id}`, {\n      //     headers: {\n      //       Authorization: `Bearer ${token.accessToken}`,\n      //     },\n      //   });\n      //   swal(`${res.data.msg} ðŸ˜‚`, {\n      //     icon: \"success\",\n      //   });\n      //   setCallback(!callback);\n      // }\n    } catch (err) {\n      swal(\"Oh no lucky Thank you for ðŸ¥´!\");\n    }\n  };\n\n  useEffect(() => {\n    if (res === true) {\n      deleteConfirmation();\n    }\n  }, [res]);\n\n  const deleteConfirmation = async id => {\n    await axios.delete(`/category/delete/${id}`, {\n      headers: {\n        Authorization: `Bearer ${token.accessToken}`\n      }\n    });\n  };\n\n  const editCategory = async (id, name) => {\n    setID(id);\n    setCategory(name);\n    setOnEdit(true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ProductIdStyle, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"categories\",\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: createCategory,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"category\",\n          children: \"Category\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"tendm\",\n          value: category,\n          required: true,\n          onChange: e => setCategory(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: onEdit ? \"Update\" : \"Create\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col\",\n        children: categories.map(category => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: category.tendm\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => editCategory(category.id, category.tendm),\n              children: \"Edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                deleteCategory(category.id);\n                deleteConfirmation(category.id);\n              },\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 15\n          }, this)]\n        }, category.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Category, \"CAutAVrW7or0nCoXjvnRsNm4Uqs=\", false, function () {\n  return [useSelector, useSelector, useNavigate];\n});\n\n_c = Category;\nexport default Category;\n\nvar _c;\n\n$RefreshReg$(_c, \"Category\");","map":{"version":3,"sources":["D:/Full-Stack-Developer/Build-Web-Orther-Food-Full-Stack-Widosoft/client/src/Components/AdminComponent/Category.js"],"names":["React","useState","useContext","useEffect","ProductIdStyle","GlobalState","NewProductStyle","useNavigate","useParams","useSelector","LoadingImage","axios","swal","toast","Category","categories","state","products","token","authAdmin","callback","setCallback","category","setCategory","onEdit","setOnEdit","id","setID","res","setRes","navigate","createCategory","e","preventDefault","patch","tendm","headers","Authorization","accessToken","data","msg","icon","post","error","alert","response","deleteCategory","title","buttons","dangerMode","then","willDelete","err","deleteConfirmation","delete","editCategory","name","target","value","map"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,EAAsCC,SAAtC,QAAuD,OAAvD;AACA,SAASC,cAAT,QAA+B,8CAA/B;AACA,SAASC,WAAT,QAA4B,4BAA5B;AACA,SAASC,eAAT,QAAgC,0CAAhC;AACA,SAASC,WAAT,EAAsBC,SAAtB,QAAuC,kBAAvC;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,YAAT,QAA6B,qBAA7B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,YAAjB;AACA,SAASC,KAAT,QAAsB,gBAAtB;;;;AACA,MAAMC,QAAQ,GAAG,MAAM;AAAA;;AACrB,QAAM;AAAEC,IAAAA;AAAF,MAAiBN,WAAW,CAAEO,KAAD,IAAWA,KAAK,CAACC,QAAlB,CAAlC;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAYT,WAAW,CAAEO,KAAD,IAAWA,KAAK,CAACG,SAAlB,CAA7B;AACA,QAAMH,KAAK,GAAGd,UAAU,CAACG,WAAD,CAAxB;AACA,QAAM,CAACe,QAAD,EAAWC,WAAX,IAA0BL,KAAK,CAACI,QAAtC;AACA,QAAM,CAACE,QAAD,EAAWC,WAAX,IAA0BtB,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACuB,MAAD,EAASC,SAAT,IAAsBxB,QAAQ,CAAC,KAAD,CAApC;AACA,QAAM,CAACyB,EAAD,EAAKC,KAAL,IAAc1B,QAAQ,CAAC,EAAD,CAA5B;AACA,QAAM,CAAC2B,GAAD,EAAMC,MAAN,IAAgB5B,QAAQ,CAAC,EAAD,CAA9B;AACA,QAAM6B,QAAQ,GAAGvB,WAAW,EAA5B;;AACA,QAAMwB,cAAc,GAAG,MAAOC,CAAP,IAAa;AAClCA,IAAAA,CAAC,CAACC,cAAF;;AACA,QAAI;AACF,UAAIT,MAAJ,EAAY;AACV,cAAMI,GAAG,GAAG,MAAMjB,KAAK,CAACuB,KAAN,CACf,aAAYR,EAAG,EADA,EAEhB;AAAES,UAAAA,KAAK,EAAEb;AAAT,SAFgB,EAGhB;AACEc,UAAAA,OAAO,EAAE;AACPC,YAAAA,aAAa,EAAG,UAASnB,KAAK,CAACoB,WAAY;AADpC;AADX,SAHgB,CAAlB;AASAb,QAAAA,SAAS,CAAC,KAAD,CAAT;AACAF,QAAAA,WAAW,CAAC,EAAD,CAAX;AACAX,QAAAA,IAAI,CAAE,GAAEgB,GAAG,CAACW,IAAJ,CAASC,GAAI,KAAjB,EAAuB;AACzBC,UAAAA,IAAI,EAAE;AADmB,SAAvB,CAAJ;AAGD,OAfD,MAeO;AACL,cAAMb,GAAG,GAAG,MAAMjB,KAAK,CAAC+B,IAAN,CAChB,WADgB,EAEhB;AAAEP,UAAAA,KAAK,EAAEb;AAAT,SAFgB,EAGhB;AACEc,UAAAA,OAAO,EAAE;AACPC,YAAAA,aAAa,EAAG,UAASnB,KAAK,CAACoB,WAAY;AADpC;AADX,SAHgB,CAAlB;AASA1B,QAAAA,IAAI,CAAE,GAAEgB,GAAG,CAACW,IAAJ,CAASC,GAAI,KAAjB,EAAuB;AACzBC,UAAAA,IAAI,EAAE;AADmB,SAAvB,CAAJ;AAGAlB,QAAAA,WAAW,CAAC,EAAD,CAAX;AACD;;AACDF,MAAAA,WAAW,CAAC,CAACD,QAAF,CAAX;AACAU,MAAAA,QAAQ,CAAC,WAAD,CAAR;AACD,KAjCD,CAiCE,OAAOa,KAAP,EAAc;AACdC,MAAAA,KAAK,CAACD,KAAK,CAACE,QAAN,CAAeN,IAAf,CAAoBC,GAArB,CAAL;AACD;AACF,GAtCD;;AAuCA,QAAMM,cAAc,GAAG,MAAOpB,EAAP,IAAc;AACnC,QAAI;AACF,aAAOd,IAAI,CAAC;AACVmC,QAAAA,KAAK,EAAE,4BADG;AAEVN,QAAAA,IAAI,EAAE,SAFI;AAGVO,QAAAA,OAAO,EAAE,IAHC;AAIVC,QAAAA,UAAU,EAAE;AAJF,OAAD,CAAJ,CAKJC,IALI,CAKEC,UAAD,IAAgB;AACtB,YAAIA,UAAJ,EAAgB;AACdvC,UAAAA,IAAI,CAAC,6CAAD,EAAgD;AAClD6B,YAAAA,IAAI,EAAE;AAD4C,WAAhD,CAAJ;AAGAZ,UAAAA,MAAM,CAACsB,UAAD,CAAN;AACD,SALD,MAKO;AACLvC,UAAAA,IAAI,CAAC,+BAAD,CAAJ;AACD;AACF,OAdM,CAAP,CADE,CAiBF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,KA5BD,CA4BE,OAAOwC,GAAP,EAAY;AACZxC,MAAAA,IAAI,CAAC,+BAAD,CAAJ;AACD;AACF,GAhCD;;AAiCAT,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIyB,GAAG,KAAK,IAAZ,EAAkB;AAChByB,MAAAA,kBAAkB;AACnB;AACF,GAJQ,EAIN,CAACzB,GAAD,CAJM,CAAT;;AAKA,QAAMyB,kBAAkB,GAAG,MAAO3B,EAAP,IAAc;AACvC,UAAMf,KAAK,CAAC2C,MAAN,CAAc,oBAAmB5B,EAAG,EAApC,EAAuC;AAC3CU,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAG,UAASnB,KAAK,CAACoB,WAAY;AADpC;AADkC,KAAvC,CAAN;AAKD,GAND;;AAOA,QAAMiB,YAAY,GAAG,OAAO7B,EAAP,EAAW8B,IAAX,KAAoB;AACvC7B,IAAAA,KAAK,CAACD,EAAD,CAAL;AACAH,IAAAA,WAAW,CAACiC,IAAD,CAAX;AACA/B,IAAAA,SAAS,CAAC,IAAD,CAAT;AACD,GAJD;;AAKA,sBACE;AAAA,4BACE,QAAC,cAAD;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA,8BACE;AAAM,QAAA,QAAQ,EAAEM,cAAhB;AAAA,gCACE;AAAO,UAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AACE,UAAA,IAAI,EAAC,MADP;AAEE,UAAA,IAAI,EAAC,OAFP;AAGE,UAAA,KAAK,EAAET,QAHT;AAIE,UAAA,QAAQ,MAJV;AAKE,UAAA,QAAQ,EAAGU,CAAD,IAAOT,WAAW,CAACS,CAAC,CAACyB,MAAF,CAASC,KAAV;AAL9B;AAAA;AAAA;AAAA;AAAA,gBAFF,eAUE;AAAQ,UAAA,IAAI,EAAC,QAAb;AAAA,oBAAuBlC,MAAM,GAAG,QAAH,GAAc;AAA3C;AAAA;AAAA;AAAA;AAAA,gBAVF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAcE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA,kBACGT,UAAU,CAAC4C,GAAX,CAAgBrC,QAAD,iBACd;AAAK,UAAA,SAAS,EAAC,KAAf;AAAA,kCACE;AAAA,sBAAIA,QAAQ,CAACa;AAAb;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAA,oCACE;AACE,cAAA,OAAO,EAAE,MAAMoB,YAAY,CAACjC,QAAQ,CAACI,EAAV,EAAcJ,QAAQ,CAACa,KAAvB,CAD7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAME;AACE,cAAA,OAAO,EAAE,MAAM;AACbW,gBAAAA,cAAc,CAACxB,QAAQ,CAACI,EAAV,CAAd;AACA2B,gBAAAA,kBAAkB,CAAC/B,QAAQ,CAACI,EAAV,CAAlB;AACD,eAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBANF;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA,WAA0BJ,QAAQ,CAACI,EAAnC;AAAA;AAAA;AAAA;AAAA,gBADD;AADH;AAAA;AAAA;AAAA;AAAA,cAdF;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF;AAAA,kBADF;AA0CD,CA7ID;;GAAMZ,Q;UACmBL,W,EACLA,W,EAODF,W;;;KATbO,Q;AA+IN,eAAeA,QAAf","sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\r\nimport { ProductIdStyle } from \"../../Styles/StylePages/Admin/ProductIdStyle\";\r\nimport { GlobalState } from \"../../Contexts/GlobalState\";\r\nimport { NewProductStyle } from \"../../Styles/StylePages/Admin/NewProduct\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { LoadingImage } from \"../../Imports/Index\";\r\nimport axios from \"axios\";\r\nimport swal from \"sweetalert\";\r\nimport { toast } from \"react-toastify\";\r\nconst Category = () => {\r\n  const { categories } = useSelector((state) => state.products);\r\n  const { token } = useSelector((state) => state.authAdmin);\r\n  const state = useContext(GlobalState);\r\n  const [callback, setCallback] = state.callback;\r\n  const [category, setCategory] = useState(\"\");\r\n  const [onEdit, setOnEdit] = useState(false);\r\n  const [id, setID] = useState(\"\");\r\n  const [res, setRes] = useState(\"\");\r\n  const navigate = useNavigate();\r\n  const createCategory = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      if (onEdit) {\r\n        const res = await axios.patch(\r\n          `/category/${id}`,\r\n          { tendm: category },\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${token.accessToken}`,\r\n            },\r\n          }\r\n        );\r\n        setOnEdit(false);\r\n        setCategory(\"\");\r\n        swal(`${res.data.msg} ðŸ¤©`, {\r\n          icon: \"success\",\r\n        });\r\n      } else {\r\n        const res = await axios.post(\r\n          \"/category\",\r\n          { tendm: category },\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${token.accessToken}`,\r\n            },\r\n          }\r\n        );\r\n        swal(`${res.data.msg} ðŸ¤©`, {\r\n          icon: \"success\",\r\n        });\r\n        setCategory(\"\");\r\n      }\r\n      setCallback(!callback);\r\n      navigate(\"/category\");\r\n    } catch (error) {\r\n      alert(error.response.data.msg);\r\n    }\r\n  };\r\n  const deleteCategory = async (id) => {\r\n    try {\r\n      return swal({\r\n        title: \"Please login to purchase ?\",\r\n        icon: \"warning\",\r\n        buttons: true,\r\n        dangerMode: true,\r\n      }).then((willDelete) => {\r\n        if (willDelete) {\r\n          swal(\"navigation login Success, wait Loading... !\", {\r\n            icon: \"success\",\r\n          });\r\n          setRes(willDelete);\r\n        } else {\r\n          swal(\"I don't have buy product ðŸ˜Ÿ'!\");\r\n        }\r\n      });\r\n\r\n      // if (window.confirm(\"Are you sure you want to delete\")) {\r\n      //   const res = await axios.delete(`/category/delete/${id}`, {\r\n      //     headers: {\r\n      //       Authorization: `Bearer ${token.accessToken}`,\r\n      //     },\r\n      //   });\r\n      //   swal(`${res.data.msg} ðŸ˜‚`, {\r\n      //     icon: \"success\",\r\n      //   });\r\n      //   setCallback(!callback);\r\n      // }\r\n    } catch (err) {\r\n      swal(\"Oh no lucky Thank you for ðŸ¥´!\");\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    if (res === true) {\r\n      deleteConfirmation();\r\n    }\r\n  }, [res]);\r\n  const deleteConfirmation = async (id) => {\r\n    await axios.delete(`/category/delete/${id}`, {\r\n      headers: {\r\n        Authorization: `Bearer ${token.accessToken}`,\r\n      },\r\n    });\r\n  };\r\n  const editCategory = async (id, name) => {\r\n    setID(id);\r\n    setCategory(name);\r\n    setOnEdit(true);\r\n  };\r\n  return (\r\n    <>\r\n      <ProductIdStyle />\r\n      <div className=\"categories\">\r\n        <form onSubmit={createCategory}>\r\n          <label htmlFor=\"category\">Category</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"tendm\"\r\n            value={category}\r\n            required\r\n            onChange={(e) => setCategory(e.target.value)}\r\n          />\r\n\r\n          <button type=\"submit\">{onEdit ? \"Update\" : \"Create\"}</button>\r\n        </form>\r\n\r\n        <div className=\"col\">\r\n          {categories.map((category) => (\r\n            <div className=\"row\" key={category.id}>\r\n              <p>{category.tendm}</p>\r\n              <div>\r\n                <button\r\n                  onClick={() => editCategory(category.id, category.tendm)}\r\n                >\r\n                  Edit\r\n                </button>\r\n                <button\r\n                  onClick={() => {\r\n                    deleteCategory(category.id);\r\n                    deleteConfirmation(category.id);\r\n                  }}\r\n                >\r\n                  Delete\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Category;\r\n"]},"metadata":{},"sourceType":"module"}